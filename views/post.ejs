<%- include('layouts/head') %>
<%- include('layouts/navbar') %>
        <% if (blogpost) { %>
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('<%=blogpost.image%>')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                             <h1><%= blogpost.title %></h1>
                            <h2 class="subheading"><%= blogpost.body.length > 100 ? blogpost.body.substring(0, 100) + '...' : blogpost.body %></h2>
                            <span class="meta">
                                Posted by
                                <a href="#!"><%= blogpost.userid.username%></a>
                                on <%= blogpost.createdAt ? blogpost.createdAt.toLocaleDateString() : new Date().toLocaleDateString() %>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <p><%= blogpost.body %></p>
                    </div>
                </div>
            </div>
        </article>
        <% } else { %>
        <!-- Error Page Header-->
        <header class="masthead" style="background-image: url('assets/img/post-bg.jpg')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h1>Post Not Found</h1>
                            <h2 class="subheading"><%= error || 'The requested blog post could not be found.' %></h2>
                            <span class="meta">
                                <a href="/">‚Üê Back to Home</a>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Error Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <p>The blog post you're looking for doesn't exist or has been removed.</p>
                        <p><a href="/" class="btn btn-primary">Return to Home</a></p>
                    </div>
                </div>
            </div>
        </article>
        <% } %>
<%- include('layouts/footer') %>
<%- include('layouts/scripts') %>